name: Daily AI News

on:
  schedule:
    - cron: '30 0 * * *' # æ¯å¤©åŒ—äº¬æ—¶é—´ 8:30 è¿è¡Œ
  workflow_dispatch: # æ‰‹åŠ¨è¿è¡ŒæŒ‰é’®

jobs:
  run-news:
    runs-on: ubuntu-latest
    
    steps:
    - name: ğŸ“¥ ä¸‹è½½ä»£ç 
      uses: actions/checkout@v3

    - name: ğŸ è®¾ç½® Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.10'

    - name: ğŸ“¦ å®‰è£…ä¾èµ–
      run: pip install feedparser openai requests

    - name: ğŸš€ è¿è¡ŒæŠ“å– & å†™ä½œ
      env:
        # åªéœ€è¯»å–è¿™ä¸€ä¸ª Key
        API_KEY: ${{ secrets.SILICONFLOW_API_KEY }}
      run: |
        python step1_fetch_news.py
        python step2_ai_writer.py
